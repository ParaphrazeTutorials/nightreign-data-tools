<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Nightreign Effect Tool</title>

    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@2/css/pico.min.css">
    <link rel="stylesheet" href="../styles/site.css">
    <link rel="stylesheet" href="../styles/reliquary.css">

    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>

  <body>
    <main class="app-shell app-grid">

      <!-- HEADER -->
      <header class="hero">
        <img
          class="hero-art"
          src="../Assets/home/Reliquary.png"
          alt=""
          aria-hidden="true"
          loading="eager"
          decoding="async"
          onerror="this.remove()"
        />

        <div class="hero-content">
          <h1>The Round Table Codex</h1>
          <h2>Reliquary</h2>
        </div>
      </header>

      <nav class="tool-nav">
        <ul>
          <li><a href="../index.html">Home</a></li>
          <li><a href="./index.html" class="active">Reliquary</a></li>
          <li><a href="#" aria-disabled="true">Menagerie</a></li>
        </ul>
      </nav>

      <!-- Everything below the header goes in the wide tool shell -->
      <section class="tool-shell">

        <!-- INSTRUCTIONS -->
        <section class="instructions">
          <details open>
            <summary><strong>Instructions</strong></summary>
            <p style="margin-top: 0.75rem;">
              Select effects in order. Effect 1 filters Effect 2, and both filter Effect 3.
            </p>
            <ul>
              <li><strong>Compatible</strong> = no shared Compatibility IDs</li>
              <li><strong>Incompatible</strong> = at least one shared Compatibility ID</li>
              <li>“Show Illegal Combinations” bypasses compatibility rules (duplicates still blocked)</li>
            </ul>
          </details>
        </section>

        <!-- OPTIONS -->
        <section class="options-panel">
          <div class="options-row">
            <label>
              Relic Type
              <select id="relicType">
                <option value="Standard">Standard</option>
                <option value="Both">Both</option>
                <option value="Depth Of Night">Depth Of Night</option>
              </select>
            </label>

            <label>
              Relic Color
              <select id="relicColor">
                <option value="Random" selected>Random</option>
                <option value="Red">Red</option>
                <option value="Blue">Blue</option>
                <option value="Yellow">Yellow</option>
                <option value="Green">Green</option>
              </select>
            </label>

            <label class="inline-check">
              <input type="checkbox" id="showIllegal" />
              Show Illegal Combinations
            </label>
          </div>
        </section>

        <!-- MAIN CONTENT -->
        <section class="main-grid">
          <!-- LEFT -->
          <section class="left-column">

            <article class="effect-card" id="effect1-card">
              <h3>Effect 1</h3>

              <label>
                Effect Category
                <select id="cat1" disabled>
                  <option value="">— All Categories —</option>
                </select>
              </label>

              <label>
                Effect Description
                <select id="effect1">
                  <option value="">— Effect 1 —</option>
                </select>
              </label>

              <small class="subtext" id="count1"></small>
            </article>

            <article class="effect-card" id="effect2-card">
              <h3>Effect 2</h3>

              <label>
                Effect Category
                <select id="cat2" disabled>
                  <option value="">— All Categories —</option>
                </select>
              </label>

              <label>
                Effect Description
                <select id="effect2" disabled>
                  <option value="">— Effect 2 —</option>
                </select>
              </label>

              <small class="subtext" id="count2"></small>
            </article>

            <article class="effect-card" id="effect3-card">
              <h3>Effect 3</h3>

              <label>
                Effect Category
                <select id="cat3" disabled>
                  <option value="">— All Categories —</option>
                </select>
              </label>

              <label>
                Effect Description
                <select id="effect3" disabled>
                  <option value="">— Effect 3 —</option>
                </select>
              </label>

              <small class="subtext" id="count3"></small>
            </article>

          </section>

          <!-- RIGHT -->
          <section class="right-column">

            <article id="results">
              <h3>Relic Preview</h3>

              <div class="relic-preview">
                <div class="relic-frame">
                  <img id="relicImg" alt="Relic preview" />
                </div>

                <div>
                  <p id="statusText" style="margin:0;">Loading…</p>

                  <ul class="chosen-effects" id="chosenList">
                    <li>
                      <div class="effect-icon" aria-hidden="true"></div>
                      <div class="effect-line">
                        <div class="title">No effects selected</div>
                        <div class="meta">Pick Effect 1 to begin.</div>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
            </article>

            <article id="details">
              <h3>Details</h3>
              <ul id="detailsList">
                <li>Loading…</li>
              </ul>
            </article>

          </section>
        </section>

        <footer>
          <small>Built for the Nightreign community</small>
        </footer>

      </section> <!-- /tool-shell -->

    </main>

    <script type="module" src="./reliquary.js"></script>
  </body>
</html>
