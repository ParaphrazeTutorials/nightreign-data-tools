<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Nightreign Effect Tool</title>

    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@2/css/pico.min.css">
    <link rel="stylesheet" href="../styles/site.css">
    <link rel="stylesheet" href="../styles/reliquary/layout.css">
    <link rel="stylesheet" href="../styles/reliquary/results.css">
    <link rel="stylesheet" href="../styles/reliquary/components.css">
    <link rel="stylesheet" href="../styles/reliquary/details.css">
    <!-- MUST be last -->
    <link rel="stylesheet" href="../styles/reliquary/overrides.css">

    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>

  <body>
    <main class="app-shell app-grid">

      <!-- HERO -->
      <header class="hero">
        <img
          class="hero-art"
          src="../Assets/home/Reliquary.png"
          alt=""
          aria-hidden="true"
          loading="eager"
          decoding="async"
          onerror="this.remove()"
        />

        <div class="hero-content">
          <h1>The Round Table Codex</h1>
          <h2>Reliquary</h2>
        </div>
      </header>

      <nav class="tool-nav">
        <ul>
          <li><a href="../index.html">Home</a></li>
          <li><a href="./index.html" class="active">Reliquary</a></li>
          <li><a href="#" aria-disabled="true">Menagerie</a></li>
        </ul>
      </nav>

      <section class="tool-shell">

        <!-- TOP (Filters + Instructions) -->
        <section class="top-grid">
          <div class="top-grid__left">
            <!-- OPTIONS -->
            <section class="options-panel">
                      <div class="options-row">
                        <label>
                          Relic Type
                          <select id="relicType">
                            <option value="All" selected>All</option>
                            <option value="Standard">Standard</option>
                            <option value="Both">Both</option>
                            <option value="Depth Of Night">Depth Of Night</option>
                          </select>
                          <small class="field-subtext">Filters effects below</small>
                        </label>

                        <label>
                          Relic Color
                          <select id="relicColor">
                            <option value="Random" selected>Random</option>
                            <option value="Red">Red</option>
                            <option value="Blue">Blue</option>
                            <option value="Yellow">Yellow</option>
                            <option value="Green">Green</option>
                          </select>
                          <small class="field-subtext">Cosmetic change only</small>
                        </label>

                        <div class="options-controls">
                          <div class="options-controls__left">
                            <label class="inline-check">
                              <input type="checkbox" id="showIllegal" />
                              Show Illegal Combinations
                            </label>

                            <label class="inline-check">
                              <input type="checkbox" id="showRaw" />
                              Show Raw Data
                            </label>
                          </div>

                          <div class="options-controls__right">
                            <button id="startOver" class="secondary" type="button">Start Over</button>
                          </div>
                        </div>
                      </div>
                    </section>
          </div>

          <div class="top-grid__right">
            <!-- INSTRUCTIONS -->
            <section class="instructions-panel">
              <h3>Instructions</h3>
              <p>
                            Select effects in order. Effect 1 filters Effect 2, and both filter Effect 3.
                          </p>
                          <ul>
                            <li><strong>Compatible</strong> = no shared Compatibility IDs</li>
                            <li><strong>Incompatible</strong> = at least one shared Compatibility ID</li>
                            <li>“Show Illegal Combinations” bypasses compatibility rules (duplicates still blocked)</li>
                          </ul>
            </section>
          </div>
        </section>

        <!-- MAIN GRID -->
        <section class="main-grid">

          <!-- LEFT -->
          <section class="left-column">

            <!-- One compact container for all three effects -->
            <div class="sidebar-panel">

              <article class="effect-card" id="effect1-card">
                <h3>Effect 1</h3>

                <div class="effect-row">
                  <label>
                    Category
                    <select id="cat1" disabled>
                      <option value="">— All —</option>
                    </select>
                  </label>

                  <label>
                    Effect
                    <select id="effect1">
                      <option value="">— Effect 1 —</option>
                    </select>
                  </label>
                </div>

                <small class="subtext" id="count1"></small>
              </article>

              <article class="effect-card" id="effect2-card">
                <h3>Effect 2</h3>

                <div class="effect-row">
                  <label>
                    Category
                    <select id="cat2" disabled>
                      <option value="">— All —</option>
                    </select>
                  </label>

                  <label>
                    Effect
                    <select id="effect2" disabled>
                      <option value="">— Effect 2 —</option>
                    </select>
                  </label>
                </div>

                <small class="subtext" id="count2"></small>
              </article>

              <article class="effect-card" id="effect3-card">
                <h3>Effect 3</h3>

                <div class="effect-row">
                  <label>
                    Category
                    <select id="cat3" disabled>
                      <option value="">— All —</option>
                    </select>
                  </label>

                  <label>
                    Effect
                    <select id="effect3" disabled>
                      <option value="">— Effect 3 —</option>
                    </select>
                  </label>
                </div>

                <small class="subtext" id="count3"></small>
              </article>

            </div>
          </section>

          <!-- RIGHT -->
          <section class="right-column">

            <article id="results">
              <div class="panel-header">
                <h3>Relic Preview</h3>
                <span id="relicValidity" class="validity-badge" hidden>Valid</span>
              </div>

              <div class="relic-preview">
                <div class="relic-frame">
                  <img id="relicImg" alt="Relic preview" />
                </div>

                <div class="relic-effects">
                  <ul class="chosen-effects" id="chosenList"></ul>
                </div>
              </div>
            </article>

            <article id="details">
              <div class="panel-header">
                <h3>Details</h3>
              </div>

              <div id="detailsBody" class="details-body"></div>
            </article>

          </section>
        </section>

        <footer>
          <small>Built for the Nightreign community</small>
        </footer>

      </section>

    </main>

    <script type="module" src="./reliquary.js"></script>
  </body>
</html>
